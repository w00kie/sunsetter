{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/spin.js/spin.js","webpack:///./static/src/tools.coffee"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__assign","assign","arguments","length","apply","this","defaults","lines","width","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","className","top","left","shadow","position","Spinner","opts","spin","target","stop","el","document","createElement","setAttribute","css","transform","insertBefore","firstChild","borderRadius","Math","round","shadows","boxShadow","regex","_i","_a","split","matches","match","x","y","xUnits","yUnits","push","prefix","end","parseBoxShadow","degrees","backgroundLine","height","background","getColor","transformOrigin","delay","line","normalizeShadow","appendChild","drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","clearTimeout","parentNode","removeChild","undefined","props","prop","style","idx","normalized","shadows_1","xy","convertOffset","join","radians","PI","sin","cos","$","google","maps","visualRefresh","myOptions","zoom","center","LatLng","mapTypeId","MapTypeId","ROADMAP","map","Map","getElementById","askGeolocation","markerpos","povmarker","Marker","icon","povicon","draggable","visible","poimarker","los","Polyline","path","getPosition","strokeColor","strokeOpacity","strokeWeight","setMap","event","addListener","getVisible","setPosition","latLng","setVisible","setOptions","show","queryMatch","removeClass","addClass","each","marker","setPath","az","getAzimuth","text","html","click","hide","window","location","hash","getHash","keys","povpos","strToLatLng","pov","poipos","poi","bounds","LatLngBounds","extend","fitBounds","navigator","geolocation","getCurrentPosition","latlng","coords","latitude","longitude","panTo","povLat","lat","toRad","poiLat","dLon","lng","atan2","toBrng","setHash","toUrlValue","vars","replace","str","coord","spinner","trail","hwaccel","_gaq","povlat","ajax","type","url","data","dataType","success","reply","daylist","append","day","suntype","error","complete","Number","toDeg","decimals","pow"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","import {Spinner} from 'spin.js'\n\n$ ->\n\t# Create map\n\t# Enable the visual refresh\n\tgoogle.maps.visualRefresh = true\n\n\ttokyo = new google.maps.LatLng(35.41, 139.44)\n\n\tmyOptions =\n\t\tzoom: 9\n\t\tcenter: tokyo\n\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\n\tmap = new google.maps.Map document.getElementById(\"map_canvas\"), myOptions\n\n\taskGeolocation map\n\n\t# Default marker position\n\tmarkerpos = new google.maps.LatLng 1, 1\n\n\t# Initialize POV and POI Markers as well as LOS Polyline\n\tpovmarker = new google.maps.Marker(\n\t\tposition: markerpos\n\t\tmap: map\n\t\ticon: povicon\n\t\tdraggable: true\n\t\tvisible: false\n\t)\n\n\tpoimarker = new google.maps.Marker(\n\t\tposition: markerpos\n\t\tmap: map\n\t\tdraggable: true\n\t\tvisible: false\n\t)\n\n\tlos = new google.maps.Polyline(\n\t\tpath: [\n\t\t\tpovmarker.getPosition()\n\t\t\tpoimarker.getPosition()\n\t\t]\n\t\tstrokeColor: \"#FF0000\"\n\t\tstrokeOpacity: 0\n\t\tstrokeWeight: 6\n\t)\n\n\tlos.setMap map\n\n\t# Click on the map event - works only 2 first times\n\tgoogle.maps.event.addListener map, 'click', (event) =>\n\t\t# First click, show POV marker\n\t\tif not povmarker.getVisible()\n\t\t\tpovmarker.setPosition event.latLng\n\t\t\tpovmarker.setVisible true\n\t\t\t#queryEphemerides povmarker\n\t\t\t$(\"#step1\").removeClass(\"active\", 500)\n\t\t\t$(\"#step2\").addClass(\"active\", 500)\n\t\t# Second click, show POI marker\n\t\telse if not poimarker.getVisible()\n\t\t\tpoimarker.setPosition event.latLng\n\t\t\tpoimarker.setVisible true\n\t\t\tlos.setOptions {strokeOpacity: 0.6}\n\t\t\t$(\"#azimuth\").show()\n\t\t\tqueryMatch povmarker, poimarker\n\t\t\t$(\"#step2\").removeClass(\"active\", 500)\n\t\t\t$(\"#step3\").addClass(\"active\", 500)\n\n\t# Move markers event\n\t$([povmarker, poimarker]).each (i,marker) =>\n\t\tgoogle.maps.event.addListener marker, 'position_changed', () =>\n\t\t\tlos.setPath [povmarker.getPosition(), poimarker.getPosition()]\n\t\t\tdocument.az = getAzimuth povmarker.getPosition(), poimarker.getPosition()\n\t\t\t$(\"#azimuth\").text document.az.round(2)+\"º\"\n\t\t\t# Clear results\n\t\t\t$(\"#results\").html(\"\")\n\n\t# Query for a match on drop\n\t$([povmarker, poimarker]).each (i,marker) =>\n\t\tgoogle.maps.event.addListener marker, 'dragend', () =>\n\t\t\t#queryEphemerides(povmarker)\n\t\t\tqueryMatch povmarker, poimarker\n\n\t# Reset button action\n\t$(\"#reset\").click () ->\n\t\tpovmarker.setOptions {position: markerpos, visible: false}\n\t\tpoimarker.setOptions {position: markerpos, visible: false}\n\t\tlos.setOptions {strokeOpacity: 0}\n\t\t$(\"#step1\").addClass(\"active\", 500)\n\t\t$(\"#step2\").removeClass(\"active\", 500)\n\t\t$(\"#step3\").removeClass(\"active\", 500)\n\t\t$(\"#azimuth\").hide()\n\t\t$(\"#results\").html(\"\")\n\t\twindow.location.hash = \"\"\n\n\t# Setup map if vars passed in URL hash\n\thash = getHash()\n\tif \"pov\" in Object.keys(hash) and \"poi\" in Object.keys(hash)\n\t\t# Parse locations from URL\n\t\tpovpos = strToLatLng hash.pov\n\t\tpoipos = strToLatLng hash.poi\n\t\t# Move markers to locations\n\t\tpovmarker.setPosition povpos\n\t\tpoimarker.setPosition poipos\n\t\t# Make elements visible\n\t\tpovmarker.setVisible true\n\t\tpoimarker.setVisible true\n\t\tlos.setOptions {strokeOpacity: 0.6}\n\t\t# Zoom map to fit both markers\n\t\tbounds = new google.maps.LatLngBounds()\n\t\tbounds.extend povpos\n\t\tbounds.extend poipos\n\t\t#map.panTo bounds.getCenter()\n\t\tmap.fitBounds bounds\n\t\t# Increment instruction steps\n\t\t$(\"#step1\").removeClass(\"active\", 500)\n\t\t$(\"#step3\").addClass(\"active\", 500)\n\t\t$(\"#azimuth\").show()\n\t\t# Finally call the backend\n\t\tqueryMatch povmarker, poimarker\n\telse\n\t\t# Try HTML5 geolocation\n\t\t# Do it only if no location in URL as asynchronous geoloc messes with fitBounds\n\t\taskGeolocation map\n\n\naskGeolocation = (map) ->\n\tif navigator.geolocation\n\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t(position) ->\n\t\t\t\tlatlng = new google.maps.LatLng position.coords.latitude, position.coords.longitude\n\t\t\t\tmap.panTo latlng\n\t\t)\n\ngetAzimuth = (pov, poi) ->\n\tpovLat = pov.lat().toRad()\n\tpoiLat = poi.lat().toRad()\n\tdLon = (poi.lng() - pov.lng()).toRad()\n\ty = Math.sin(dLon) * Math.cos(poiLat)\n\tx = Math.cos(povLat) * Math.sin(poiLat) - Math.sin(povLat) * Math.cos(poiLat) * Math.cos(dLon)\n\treturn Math.atan2(y, x).toBrng()\n\n# Sets the marker positions in the URL\nsetHash = (pov, poi) ->\n\tpovpos = pov.getPosition().toUrlValue()\n\tpoipos = poi.getPosition().toUrlValue()\n\twindow.location.hash = \"pov=#{povpos}&poi=#{poipos}\"\n\n# Decode parameters from hash\n# shamelessly stolen from http://papermashup.com/read-url-get-variables-withjavascript/\ngetHash = () ->\n\tvars = {}\n\twindow.location.hash.replace /[#&]+([^=&]+)=([^&]*)/gi, (m, key, value) =>\n\t\tvars[key] = value\n\treturn vars\n\n# Make a Google Maps LatLng object from a string\nstrToLatLng = (str) ->\n\tcoord = str.split(\",\")\n\tnew google.maps.LatLng coord[0], coord[1]\n\n# NOT USED\nqueryEphemerides = (pov) ->\n\tpovlat = pov.getPosition().lat().round(1)\n\t$.ajax(\n\t\ttype: \"POST\"\n\t\turl: \"/GetEphemerides\"\n\t\tdata: {lat: povlat}\n\t\tdataType: \"json\"\n\t\tsuccess: (reply) =>\n\t\t\tdocument.ephemerides = reply\n\t)\n\nqueryMatch = (pov, poi) ->\n\t# Set the spinner\n\tdocument.spinner = new Spinner(\n\t\tlines: 13 # The number of lines to draw\n\t\tlength: 7 # The length of each line\n\t\twidth: 4 # The line thickness\n\t\tradius: 10 # The radius of the inner circle\n\t\trotate: 0 # The rotation offset\n\t\tcolor: '#333' # #rgb or #rrggbb\n\t\tspeed: 1 # Rounds per second\n\t\ttrail: 60 # Afterglow percentage\n\t\tshadow: false # Whether to render a shadow\n\t\thwaccel: true # Whether to use hardware acceleration\n\t\tclassName: 'spinner' # The CSS class to assign to the spinner\n\t\tzIndex: 2e9 # The z-index (defaults to 2000000000)\n\t\ttop: '50%' # Top position relative to parent in px\n\t\tleft: '50%' # Left position relative to parent in px\n\t).spin($(\"#results\")[0])\n\n\t# Log a request to Google Analytics\n\t_gaq.push ['_trackEvent', 'Interaction', 'Request']\n\n\tpovlat = pov.getPosition().lat().round(1)\n\t$.ajax(\n\t\ttype: \"POST\"\n\t\turl: \"/findMatch\"\n\t\tdata: {lat: povlat, az: document.az}\n\t\tdataType: \"json\"\n\t\tsuccess: (reply) =>\n\t\t\tif reply.matches?\n\t\t\t\t# Create HTML for the result days list\n\t\t\t\tdaylist = $(\"<ul>\").addClass(\"matches\")\n\t\t\t\tdaylist.append($(\"<li>\").text(day)) for day in reply.matches\n\t\t\t\t# Write the type (sunrise or sunset) and results to the screen\n\t\t\t\t$(\"#results\").text(\"#{reply.suntype} on:\").append(daylist)\n\t\t\t\t# Log the result to Google Analytics\n\t\t\t\t_gaq.push ['_trackEvent', 'Interaction', 'Success', reply.suntype]\n\t\t\telse\n\t\t\t\t$(\"#results\").text(\"Sorry, there is no #{reply.suntype} in this direction.\")\n\t\t\t\t# Log the result to Google Analytics\n\t\t\t\t_gaq.push ['_trackEvent', 'Interaction', 'Success', 'Out of Bounds']\n\t\terror: () =>\n\t\t\t$(\"#results\").text(\"ERROR in the Request.\")\n\t\t\t# Log the error to Google Analytics\n\t\t\t_gaq.push ['_trackEvent', 'Interaction', 'Error']\n\t\tcomplete: () =>\n\t\t\tdocument.spinner.stop()\n\t\t\tsetHash pov, poi\n\t)\n\n# extend Number object with methods for converting degrees/radians\nNumber::toRad = () ->  # convert degrees to radians\n\treturn this * Math.PI / 180\n\nNumber::toDeg = () ->  # convert radians to degrees (signed)\n\treturn this * 180 / Math.PI\n\nNumber::toBrng = () ->  # convert radians to degrees (as bearing: 0...360)\n\treturn (this.toDeg()+360) % 360\n\nNumber::round = (decimals) ->\n\treturn Math.round(this * Math.pow(10, decimals)) / Math.pow(10, decimals)\n"],"sourceRoot":""}